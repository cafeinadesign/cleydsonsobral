<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8">
  <title>Cleydson Sobral: Nutricionista</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description"
    content="É nutricionista com expertise em emagrecimento e no tratamento da obesidade. Devido ao coronavírus, meus atendimentos estão sendo realizados online.">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script id="getnet-loader-script" data-getnet-sellerid="8a32b055-93d3-4758-847c-91a555210218"
    data-getnet-payment-methods-disabled="[]" data-getnet-amount="123.45" data-getnet-customerid="12345"
    data-getnet-orderid="12345" data-getnet-button-class="pay-button-getnet" data-getnet-customer-first-name="João"
    data-getnet-customer-last-name="da Silva" data-getnet-customer-document-type="CPF"
    data-getnet-customer-document-number="82916868070" data-getnet-customer-email="teste@teste.com"
    data-getnet-customer-address-street="Av. Nações Unidas" data-getnet-customer-address-street-number="1"
    data-getnet-customer-address-neighborhood="Brooklin" data-getnet-customer-address-city="São Paulo"
    data-getnet-customer-address-state="SP" data-getnet-customer-address-zipcode="04578907"
    data-getnet-customer-country="Brasil" data-getnet-shipping-address="[]"
    data-getnet-items='[{"name":"","description":"","value":0,"quantity":0,"sku":""}]'></script>

</head>

<body class="mat-app-background mat-typography">
  <app-root></app-root>
  <script>
    var myHeaders = new Headers();
    myHeaders.append("Authorization", "Basic ZjA5YTg5MjAtMWZlYS00ZDNiLTk0ZWUtMGY3NWNhMGVhNjQ0OjBlZjIzMTM0LTVkMmYtNDM2Mi1iMWViLTVmYzJhNDgxNmY5MA==");
    myHeaders.append("Content-Type", "application/x-www-form-urlencoded");

    var urlencoded = new URLSearchParams();
    urlencoded.append("scope", "oob");
    urlencoded.append("grant_type", "client_credentials");

    var requestOptions = {
      method: 'POST',
      headers: myHeaders,
      body: urlencoded,
      redirect: 'follow'
    };

    fetch("https://api-sandbox.getnet.com.br/auth/oauth/v2/token", requestOptions)
      .then(response => response.text())
      .then(result => {
        console.log(result);
        document.getElementById("getnet-loader-script").setAttribute('data-getnet-token', 'Bearer ' + result.access_token);
        document.getElementById("getnet-loader-script").setAttribute('src', 'https://checkout-sandbox.getnet.com.br/loader.js');
      })
      .catch(error => console.log('error', error));
  </script>
</body>

</html>